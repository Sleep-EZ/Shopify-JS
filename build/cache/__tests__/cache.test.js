"use strict";
exports.__esModule = true;
var index_1 = require("../../testing/index");
var index_2 = require("../index");
var types_1 = require("../../types");
it('readCache() works', function () {
    var cache = new index_2.Cache();
    var testPage = index_1.testCreatePage({
        id: 100, handle: 'asdas'
    });
    index_2.indexSingleElement(cache._cache, testPage);
    var result = cache.readCache();
    expect(result).toHaveLength(1);
    expect(result).toMatchSnapshot();
});
describe('writeCache()', function () {
    var page1 = index_1.testCreatePage({ id: 1, handle: 'test1' });
    it('creates new references for each', function () {
        var cache = new index_2.Cache();
        var newCache = new index_2.Cache();
        cache.set(types_1.ShopifyTypeEnum.Page, page1);
        newCache.writeCache(cache._cache.data);
        expect(newCache._cache.data).toEqual(cache._cache.data);
        expect(newCache._cache.data !== cache._cache.data).toBeTruthy();
        expect(newCache._cache.ids !== cache._cache.ids).toBeTruthy();
        expect(newCache._cache.handles[types_1.ShopifyTypeEnum.Collection] !==
            cache._cache.handles[types_1.ShopifyTypeEnum.Collection]).toBeTruthy();
        expect(newCache._cache.handles[types_1.ShopifyTypeEnum.Product] !==
            cache._cache.handles[types_1.ShopifyTypeEnum.Product]).toBeTruthy();
        expect(newCache._cache.handles[types_1.ShopifyTypeEnum.Page] !==
            cache._cache.handles[types_1.ShopifyTypeEnum.Page]).toBeTruthy();
    });
});
describe('getCollection()', function () {
});
describe('getProduct()', function () {
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2FjaGUudGVzdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jYWNoZS9fX3Rlc3RzX18vY2FjaGUudGVzdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLDZDQUFxRDtBQUNyRCxrQ0FBcUQ7QUFDckQscUNBQThDO0FBRzlDLEVBQUUsQ0FBQyxtQkFBbUIsRUFBRTtJQUNwQixJQUFNLEtBQUssR0FBRyxJQUFJLGFBQUssRUFBRSxDQUFDO0lBQzFCLElBQU0sUUFBUSxHQUFHLHNCQUFjLENBQUM7UUFDNUIsRUFBRSxFQUFFLEdBQUcsRUFBRSxNQUFNLEVBQUUsT0FBTztLQUMzQixDQUFDLENBQUM7SUFFSCwwQkFBa0IsQ0FBQyxLQUFLLENBQUMsTUFBTSxFQUFFLFFBQVEsQ0FBQyxDQUFDO0lBQzNDLElBQU0sTUFBTSxHQUFHLEtBQUssQ0FBQyxTQUFTLEVBQUUsQ0FBQztJQUVqQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQy9CLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxlQUFlLEVBQUUsQ0FBQztBQUNyQyxDQUFDLENBQUMsQ0FBQztBQUVILFFBQVEsQ0FBQyxjQUFjLEVBQUU7SUFDckIsSUFBTSxLQUFLLEdBQUcsc0JBQWMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLE9BQU8sRUFBRSxDQUFDLENBQUM7SUFFekQsRUFBRSxDQUFDLGlDQUFpQyxFQUFFO1FBQ2xDLElBQU0sS0FBSyxHQUFHLElBQUksYUFBSyxFQUFFLENBQUM7UUFDMUIsSUFBTSxRQUFRLEdBQUcsSUFBSSxhQUFLLEVBQUUsQ0FBQztRQUM3QixLQUFLLENBQUMsR0FBRyxDQUFDLHVCQUFlLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBRXZDLFFBQVEsQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN2QyxNQUFNLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUV4RCxNQUFNLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxJQUFJLEtBQUssS0FBSyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxVQUFVLEVBQUUsQ0FBQztRQUNoRSxNQUFNLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxHQUFHLEtBQUssS0FBSyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxVQUFVLEVBQUUsQ0FBQztRQUM5RCxNQUFNLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsdUJBQWUsQ0FBQyxVQUFVLENBQUM7WUFDdEQsS0FBSyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsdUJBQWUsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLFVBQVUsRUFBRSxDQUFDO1FBQ25FLE1BQU0sQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyx1QkFBZSxDQUFDLE9BQU8sQ0FBQztZQUNuRCxLQUFLLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyx1QkFBZSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsVUFBVSxFQUFFLENBQUM7UUFDaEUsTUFBTSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLHVCQUFlLENBQUMsSUFBSSxDQUFDO1lBQ2hELEtBQUssQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLHVCQUFlLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxVQUFVLEVBQUUsQ0FBQztJQUNqRSxDQUFDLENBQUMsQ0FBQztBQUNQLENBQUMsQ0FBQyxDQUFDO0FBRUgsUUFBUSxDQUFDLGlCQUFpQixFQUFFO0FBRTVCLENBQUMsQ0FBQyxDQUFDO0FBRUgsUUFBUSxDQUFDLGNBQWMsRUFBRTtBQUN6QixDQUFDLENBQUMsQ0FBQyJ9